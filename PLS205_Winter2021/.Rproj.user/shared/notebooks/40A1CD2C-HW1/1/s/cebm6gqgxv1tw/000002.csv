"0","set.seed(1)"
"0","# repeat experiment-type1 100 times"
"0","type_1_results = c()"
"0","for(j in 1:100) {  # Each iteration of this for-loop we run both the Type1 and Type2 experiments"
"0","    simulation1_sitting = c()"
"0","    simulation1_standing = c()"
"0","    for(i in 1:20) {"
"0","        # measure person sitting"
"0","        baseline_i_sitting = rnorm(n = 1,mean = 80,sd = 10)  # true pulse"
"0","        person_sitting_i = round(baseline_i_sitting + rnorm(n=1,mean = 0,sd = 1)) # measured_pulse - rounded to the 1 bpm"
"0","        simulation1_sitting[i] = person_sitting_i"
"0","        # measure person standing"
"0","        baseline_i_standing = rnorm(n = 1,mean = 90,sd = 10) # true pulse"
"0","        person_standing_i = round(baseline_i_standing + rnorm(n=1,mean = 0,sd = 1)) # measured_pulse"
"0","        simulation1_standing[i] = person_standing_i"
"0","    }"
"0","    type_1_results[j] = mean(simulation1_standing) - mean(simulation1_sitting)"
"0","}"
"0","# repeat experiment-type2 100 times"
"0","type_2_results = c()"
"0","for(j in 1:100) {"
"0","    simulation2 = c()"
"0","    for(i in 1:20) {"
"0","        baseline_i_pulse = rnorm(n=1,mean=80,sd = 10)"
"0","        standing_i_effect = rnorm(n=1,mean=10,sd = 2)"
"0","        sitting_pulse_i = round(baseline_i_pulse + rnorm(1,0,1))"
"0","        standing_pulse_i = round(baseline_i_pulse + standing_i_effect + rnorm(1,0,1))"
"0","        treatment_effect_i = standing_pulse_i - sitting_pulse_i"
"0","        simulation2 = rbind(simulation2,data.frame(Person = i, Sitting = sitting_pulse_i, Standing = standing_pulse_i, Effect = treatment_effect_i))"
"0","    }"
"0","    type_2_results[j] = mean(simulation2$Effect)"
"0","}"
"0","boxplot(list(Type1 = type_1_results,Type2 = type_2_results))"
